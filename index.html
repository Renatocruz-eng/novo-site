
<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>SECAF - Clima Detalhado</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>
    <img src="images/logo.png" alt="Logo SECAF" class="logo">
    <nav>
      <a href="index.html">Início</a>
      <a href="sobre.html">Sobre</a>
      <a href="servicos.html">Serviços</a>
      <a href="contato.html">Contato</a>
    </nav>
  </header>

  <div class="barra-topo">
    <div class="data-atual" id="data-atual"></div>
  </div>

  <section class="hero-banner">
    <img src="images/por-do-sol.png" alt="Banner" class="banner-img">
    <div class="banner-texto">
      <h1>Consultoria e Assessoria para Agricultura Familiar</h1>
    </div>
  </section>

  <section class="info-agro-clima">
    <div class="coluna-direita" id="clima-detalhado">
      <h2>Clima Detalhado - Open-Meteo</h2>
      <div id="info-clima-detalhado">Carregando dados do clima...</div>
    </div>
  </section>

  <footer class="rodape">
    <div class="rodape-baixo">
      <p>© 2025 SECAF - Todos os direitos reservados.</p>
      <p class="creditos-site">Site desenvolvido por <strong>Renato Ferreira da Cruz</strong></p>
    </div>
  </footer>

  <script>
    const diasSemana = ["Domingo", "Segunda-feira", "Terça-feira", "Quarta-feira", "Quinta-feira", "Sexta-feira", "Sábado"];
    const meses = ["janeiro", "fevereiro", "março", "abril", "maio", "junho", "julho", "agosto", "setembro", "outubro", "novembro", "dezembro"];
    const hoje = new Date();
    const diaSemana = diasSemana[hoje.getDay()];
    const dia = hoje.getDate().toString().padStart(2, '0');
    const mes = meses[hoje.getMonth()];
    const ano = hoje.getFullYear();
    document.getElementById('data-atual').textContent = `${diaSemana}, ${dia} de ${mes} de ${ano}`;

    const climaDetalhadoURL = "https://api.open-meteo.com/v1/forecast?latitude=52.52&longitude=13.41&daily=rain_sum,precipitation_sum,et0_fao_evapotranspiration,wet_bulb_temperature_2m_mean&hourly=temperature_2m,relative_humidity_2m,precipitation_probability,rain,surface_pressure,evapotranspiration,soil_temperature_0cm,wet_bulb_temperature_2m,dew_point_2m,et0_fao_evapotranspiration,wind_speed_10m,wind_direction_10m&current=temperature_2m,relative_humidity_2m,precipitation,is_day,wind_speed_10m,wind_direction_10m&past_days=92";

    fetch(climaDetalhadoURL)
      .then(res => res.json())
      .then(data => {
        const atual = data.current;
        const climaHTML = `
          <p><strong>🌡️ Temperatura:</strong> ${atual.temperature_2m}°C</p>
          <p><strong>💦 Umidade:</strong> ${atual.relative_humidity_2m}%</p>
          <p><strong>🌧️ Precipitação:</strong> ${atual.precipitation} mm</p>
          <p><strong>💨 Vento:</strong> ${atual.wind_speed_10m} km/h</p>
          <p><strong>🧭 Direção do Vento:</strong> ${atual.wind_direction_10m}°</p>
          <p><strong>☀️ Dia:</strong> ${atual.is_day ? "Sim" : "Não"}</p>
        `;
        document.getElementById("info-clima-detalhado").innerHTML = climaHTML;
      })
      .catch(() => {
        document.getElementById("info-clima-detalhado").innerHTML = "<p>Erro ao carregar clima detalhado.</p>";
      });
  </script>
</body>
</html>
