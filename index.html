
<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>SECAF - Início</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="barra-topo">
  <div class="data-atual" id="data-atual"></div>
</div>

<section class="info-agro-clima">
  <div class="coluna-esquerda">
    <h2>Preços Atualizados</h2>
    <table class="tabela-precos">
      <tr><td><strong>Dólar:</strong></td><td>R$ 5,63</td></tr>
      <tr><td><strong>Soja:</strong></td><td>R$ 140,50</td></tr>
      <tr><td><strong>Milho:</strong></td><td>R$ 82,30</td></tr>
      <tr><td><strong>Boi Gordo:</strong></td><td>R$ 238,75</td></tr>
      <tr><td><strong>Ovos:</strong></td><td>R$ 16,90 (30 unid)</td></tr>
      <tr><td><strong>Frango:</strong></td><td>R$ 8,20/kg</td></tr>
      <tr><td><strong>Leite:</strong></td><td>R$ 3,90/L</td></tr>
    </table>
  </div>

  <div class="coluna-direita">
    <h2>Clima Atual - Open-Meteo</h2>
    <div id="clima-info">Carregando clima...</div>
  </div>
</section>

<footer class="rodape">
  <div class="rodape-baixo">
    <p>© 2025 SECAF - Todos os direitos reservados.</p>
    <p class="creditos-site">Site desenvolvido por <strong>Renato Ferreira da Cruz</strong></p>
  </div>
</footer>

<script>
  const diasSemana = ["Domingo", "Segunda-feira", "Terça-feira", "Quarta-feira", "Quinta-feira", "Sexta-feira", "Sábado"];
  const meses = ["janeiro", "fevereiro", "março", "abril", "maio", "junho", "julho", "agosto", "setembro", "outubro", "novembro", "dezembro"];
  const hoje = new Date();
  const diaSemana = diasSemana[hoje.getDay()];
  const dia = hoje.getDate().toString().padStart(2, '0');
  const mes = meses[hoje.getMonth()];
  const ano = hoje.getFullYear();
  const dataFormatada = `${diaSemana}, ${dia} de ${mes} de ${ano}`;
  document.getElementById('data-atual').textContent = dataFormatada;

  // Open-Meteo API - Dourados, MS
  const url = "https://api.open-meteo.com/v1/forecast?latitude=-22.22&longitude=-54.81&daily=rain_sum,et0_fao_evapotranspiration&hourly=temperature_2m&current=temperature_2m,relative_humidity_2m,rain&timezone=America/Sao_Paulo";

  fetch(url)
    .then(res => res.json())
    .then(data => {
      const atual = data.current;
      const hoje = data.daily;

      const climaHTML = `
        <p><strong>Temp. Atual:</strong> ${atual.temperature_2m}°C</p>
        <p><strong>Umidade:</strong> ${atual.relative_humidity_2m}%</p>
        <p><strong>Chuva (agora):</strong> ${atual.rain} mm</p>
        <hr>
        <p><strong>Evapotranspiração (hoje):</strong> ${hoje.et0_fao_evapotranspiration[0]} mm</p>
        <p><strong>Chuva (hoje):</strong> ${hoje.rain_sum[0]} mm</p>
      `;
      document.getElementById('clima-info').innerHTML = climaHTML;
    })
    .catch(() => {
      document.getElementById('clima-info').innerText = "Erro ao carregar clima.";
    });
</script>

</body>
</html>
