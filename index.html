
<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>SECAF - Início</title>
  <link rel="stylesheet" href="style.css">
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
</head>
<body>
  <!-- Cabeçalho, banner, boas-vindas e clima omitidos para brevidade -->

  <section class="noticias-agro" style="max-width: 1100px; margin: 0 auto 40px auto; padding: 0 20px;">
    <h2 style="color: #0A621C; text-align: center; margin-bottom: 20px;">Notícias sobre Agricultura e Agronegócio</h2>
    <div id="feed-agro" style="display: flex; gap: 30px; justify-content: space-between; flex-wrap: wrap;">
      <p>Carregando notícias...</p>
    </div>
  </section>

  <footer class="rodape">
    <div class="rodape-baixo">
      <p>© 2025 SECAF - Todos os direitos reservados.</p>
      <p class="creditos-site">Site desenvolvido por <strong>Renato Ferreira da Cruz</strong></p>
    </div>
  </footer>

  <script>
    const diasSemana = ["Domingo", "Segunda-feira", "Terça-feira", "Quarta-feira", "Quinta-feira", "Sexta-feira", "Sábado"];
    const meses = ["janeiro", "fevereiro", "março", "abril", "maio", "junho", "julho", "agosto", "setembro", "outubro", "novembro", "dezembro"];
    const hoje = new Date();
    const diaSemana = diasSemana[hoje.getDay()];
    const dia = hoje.getDate().toString().padStart(2, '0');
    const mes = meses[hoje.getMonth()];
    const ano = hoje.getFullYear();
    const dataFormatada = `${diaSemana}, ${dia} de ${mes} de ${ano}`;
    document.getElementById('data-atual') && (document.getElementById('data-atual').textContent = dataFormatada);

    // CLIMA OMITIDO

    // NOTÍCIAS RSS - Canal Rural via RSS2JSON
    const rssUrl = 'https://www.canalrural.com.br/feed/';
    const apiUrl = `https://api.rss2json.com/v1/api.json?rss_url=${encodeURIComponent(rssUrl)}`;

    axios.get(apiUrl)
      .then(res => {
        const noticias = res.data.items.slice(0, 3); // 3 últimas
        const container = document.getElementById("feed-agro");
        container.innerHTML = "";
        noticias.forEach(item => {
          const div = document.createElement("div");
          div.style.flex = "1 1 30%";
          div.style.border = "1px solid #ddd";
          div.style.padding = "10px";
          div.style.borderRadius = "8px";
          div.style.backgroundColor = "#f9f9f9";
          div.innerHTML = `
            <h3 style="font-size: 1rem;"><a href="${item.link}" target="_blank">${item.title}</a></h3>
            <p style="font-size: 0.9rem;">${item.description.slice(0, 100)}...</p>
          `;
          container.appendChild(div);
        });
      })
      .catch(err => {
        document.getElementById("feed-agro").innerHTML = "<p>Erro ao carregar notícias.</p>";
      });
  </script>
</body>
</html>
